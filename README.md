Бот для системы голосования в Mattermost с хранением данных в Tarantool.

!!! После создания Dockerfile пояились проблемы с подключением к docker сервисам, не хватило времени разобраться (Первый раз делал проект на Golang) !!!  

Функциональность

* Создание голосований с произвольными вариантами ответов

* Голосование за указанные варианты

* Просмотр текущих результатов голосования

* Завершение голосований (для создателей)

* Удаление голосований (для создателей)

Требования

    Docker

Установка

Склонируйте репозиторий:


    git clone https://github.com/Zaheal/Bot_mattermost.git
    cd Bot_mattermost

(Я знаю, что лучше использовать .env.example, но так удобнее в данном случае)
    
Запустите сервис mattermost:

    docker compose -f docker-compose.dev.yml up -d mattermost

Настройка бота в Mattermost

    Откройте http://mattermost:8065/

    Создайте команду Vk.group или измените зачение в .env и канал использовал Off-topic

    Создайте учетную запись бота в Mattermost (Системная консоль → Интеграции → Боты)

    Скопируйте access token созданного бота и id канала в .env файл

    Добавьте бота в нужный канал

Использование

    docker compose -f docker-compose.dev.yml up -d --build

Доступные команды:


    /vote create "Вопрос?" "Вариант1" "Вариант2" [...] - Создать новое голосование
    /vote vote <ID_голосования> <вариант> - Проголосовать
    /vote results <ID_голосования> - Показать текущие результаты
    /vote end <ID_голосования> - Завершить голосование (только для создателя)
    /vote delete <ID_голосования> - Удалить голосование (только для создателя)
    /vote help - Показать справку

Пример использования:

Создание голосования:


    /vote create "Какой чай предпочитаете?" Черный Зеленый Травяной Другое

Голосование:

    /vote vote 12345 Зеленый

Просмотр результатов:

    /vote results 12345

Остановка и удаление

Чтобы остановить сервисы:

    docker compose down

Для полного удаления (с данными Tarantool):

    docker compose down -v
